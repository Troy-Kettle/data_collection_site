<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vital Signs Survey - Consent & Basic Info</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDUqolrnw7CQ-_bPWx0bbSPBEK4MNgkgmo",
            authDomain: "datacollection-9f8f6.firebaseapp.com",
            projectId: "datacollection-9f8f6",
            storageBucket: "datacollection-9f8f6.appspot.com",
            messagingSenderId: "171849859334",
            appId: "1:171849859334:web:c0c40fd8ca74a9e10e9e87",
            measurementId: "G-F2WDNKDP5R"
        };
          
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
</head>
<body>
    <div class="navbar">
        <h1>Vital Signs Survey</h1>
    </div>
    <div class="container">
        <h1>Welcome to the Vital Signs Survey</h1>
        <p>This survey aims to understand how healthcare professionals interpret vital signs. Your responses will help improve patient care.</p>
        <p>Please read and agree to the statements below before starting the survey.</p>

        <!-- Start of the form -->
        <form id="consentForm">
            <fieldset>
                <legend>Consent Form</legend>

                <!-- Consent 1 -->
                <label>
                    <input type="checkbox" name="consent1" required>
                    I confirm that I have read and understand the information given above.
                </label>
                <br>

                <!-- Consent 2 -->
                <label>
                    <input type="checkbox" name="consent2" required>
                    I understand that my participation is voluntary and that I am free to withdraw at any time, without giving any reason, and without my medical care or legal rights being affected.
                </label>
                <br>

                <!-- Consent 3 -->
                <label>
                    <input type="checkbox" name="consent3" required>
                    I agree to take part in the above study.
                </label>
                <br>
            </fieldset>

            <!-- Basic Info Section -->
            <fieldset>
                <legend>Basic Information</legend>

                <!-- Screening Question 1 -->
                <label for="experience">
                    Are you a registered Doctor (Registrar or Consultant level) or Nurse (Band 6 or above) who looks after acutely unwell adults in hospital as part of your usual job role?
                </label>
                <select id="experience" name="experience" required>
                    <option value="">--Select an option--</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                <br>

                <!-- Screening Question 2 -->
                <label for="location">
                    Do you currently live and work in England or Wales?
                </label>
                <select id="location" name="location" required>
                    <option value="">--Select an option--</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                <br>

                <!-- Question 3 -->
                <label for="role">
                    Please indicate which best describes your role:
                </label>
                <select id="role" name="role" required>
                    <option value="">--Select your role--</option>
                    <option value="doctor">Registrar</option>
                    <option value="nurse">Consultant</option>
                    <option value="acp">Ward nurse</option>
                    <option value="specialist_nurse">Specialist nurse</option>
                    <option value="cc_outreach_nurse">Critical Care Outreach Nurse</option>
                    <option value="ACP">Advanced clinical practitioner</option>
                    <option value="hhn_coordinator">Hospital at Night coordinator</option>
                </select>
                <br>

                <!-- Question 4 -->
                <label for="specialty">Please indicate which best describes the specialty in which you currently work:</label>
                <select id="specialty" name="specialty" required>
                    <option value="">--Select your specialty--</option>
                    <option value="not_applicable">Not applicable</option>
                    <option value="acute_medicine">Acute medicine</option>
                    <option value="anaesthetics">Anaesthetics</option>
                    <option value="cardio_thoracic_surgery">Cardio-thoracic surgery</option>
                    <option value="cardiology">Cardiology</option>
                    <option value="clinical_oncology">Clinical oncology</option>
                    <option value="clinical_pharmacology">Clinical pharmacology and therapeutics</option>
                    <option value="clinical_radiology">Clinical radiology</option>
                    <option value="dermatology">Dermatology</option>
                    <option value="emergency_medicine">Emergency medicine</option>
                    <option value="endocrinology">Endocrinology and diabetes mellitus</option>
                    <option value="gastroenterology">Gastroenterology</option>
                    <option value="general_medicine">General (internal) medicine</option>
                    <option value="general_surgery">General surgery</option>
                    <option value="geriatric_medicine">Geriatric medicine</option>
                    <option value="haematology">Haematology</option>
                    <option value="hepatology">Hepatology</option>
                    <option value="infectious_diseases">Infectious diseases</option>
                    <option value="intensive_care">Intensive care medicine</option>
                    <option value="medical_oncology">Medical oncology</option>
                    <option value="neurology">Neurology</option>
                    <option value="neurosurgery">Neurosurgery</option>
                    <option value="obstetrics_gynaecology">Obstetrics and gynaecology</option>
                    <option value="oral_surgery">Oral and maxillo-facial surgery</option>
                    <option value="otolaryngology">Otolaryngology</option>
                    <option value="palliative_medicine">Palliative medicine</option>
                    <option value="plastic_surgery">Plastic surgery</option>
                    <option value="rehabilitation">Rehabilitation medicine</option>
                    <option value="renal_medicine">Renal medicine</option>
                    <option value="respiratory_medicine">Respiratory medicine</option>
                    <option value="rheumatology">Rheumatology</option>
                    <option value="sport_medicine">Sport and exercise medicine</option>
                    <option value="stroke_medicine">Stroke medicine</option>
                    <option value="trauma_orthopaedics">Trauma and orthopaedic surgery</option>
                    <option value="tropical_medicine">Tropical medicine</option>
                    <option value="urology">Urology</option>
                    <option value="vascular_surgery">Vascular surgery</option>
                    <option value="other">Other</option>
                </select>
                <br>
            </fieldset>

            <!-- Submit button -->
            <div class="navigation-buttons">
                <button type="submit">Start Survey</button>
            </div>
        </form>
    </div>
    <script>
        document.getElementById('consentForm').addEventListener('submit', function(event) {
            event.preventDefault();
        
            // Get all required fields
            const consent1 = document.querySelector('input[name="consent1"]').checked;
            const consent2 = document.querySelector('input[name="consent2"]').checked;
            const consent3 = document.querySelector('input[name="consent3"]').checked;
            const experience = document.getElementById('experience').value;
            const location = document.getElementById('location').value;
            const role = document.getElementById('role').value;
            const specialty = document.getElementById('specialty').value;
        
            // Check if all fields are filled
            if (consent1 && consent2 && consent3 && experience && location && role && specialty) {
                // Save the data
                const consentData = {
                    consent1: 'Consented',
                    consent2: 'Consented',
                    consent3: 'Consented'
                };
        
                const basicInfoData = {
                    experience: experience,
                    location: location,
                    role: role,
                    specialty: specialty
                };
        
                // Save to sessionStorage
                sessionStorage.setItem('consentData', JSON.stringify(consentData));
                sessionStorage.setItem('basicInfoData', JSON.stringify(basicInfoData));
        
                // Redirect to next page
                window.location.href = '/part1.html';
            } else {
                alert('Please complete all required fields before proceeding.');
            }
        });
        </script>
</body>
</html>
