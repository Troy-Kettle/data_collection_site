<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Part 1: Vital Signs Concern Level Boundaries</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script>
        // Add immediate check before loading anything else
        if (window.location.pathname.includes('part2.html')) {
            const isComplete = sessionStorage.getItem('completionStatus') === 'true';
            if (!isComplete) {
                alert('You must complete Part 1 first!');
                window.location.replace('index.html');
            }
        }
    </script>
</head>
<body>
    <div class="navbar">
        <h1>Vital Signs Survey</h1>
    </div>

    <div class="container">
        <div class="progress-bar">
            <h3 style="padding: 1%;">33%</h3>
            <div class="progress-bar-fill" style="width: 33%;"></div>
        </div>

        <h1>Part 1: Vital Signs Concern Level Boundaries</h1>

        <h2>Participant instructions:</h2>
        <p>
            Please imagine that you are designing an early warning score to detect treatable deterioration on hospital wards. For each of the vital signs indicated below, please use the arrows to indicate which values you would consider to fit into the following risk categories, according to your own clinical judgement. Please assume that the patient is an adult (≥ 18 years) who is not pregnant and does not have a chronic respiratory condition requiring lower target oxygen saturations.
        </p>
        <p>
            You may find it helpful to start by adjusting the position of the green arrows which indicate the range of no concern, before adjusting the position of the other arrows to indicate the ranges of mild, moderate and severe concern. The exact numerical ranges are indicated in a table below each of the scales. If needed, it is possible to eliminate categories entirely by placing two or more arrows at the same point on the scale, directly above one another. The initial position of the arrows is random and does not have any significance.
        </p>
        <p>
            <strong>It is necessary to move every arrow at least once to validate your answer to each question.</strong>
        </p>
        <p>
            <strong>No concern (green)</strong> – no requirement for medical assessment.<br>
            <strong>Mild concern (yellow)</strong> – may require medical assessment under some circumstances.<br>
            <strong>Moderate concern (orange)</strong> – requires medical assessment within 1-4 hours.<br>
            <strong>Severe concern (red)</strong> – requires immediate medical attention.
        </p>
        
        <div id="vitalSignsContainer"></div>

        <form id="part1Form" onsubmit="return validateForm(event)">
            <div class="navigation-buttons">
                <button id="submitButton" type="submit">Next</button>
            </div>
        </form>
    </div>

    <script>
        function validateForm(event) {
            event.preventDefault();
            if (!window.checkAllComplete()) {
                alert('You must move all sliders before proceeding.');
                return false;
            }
            window.sessionStorage.setItem('completionStatus', 'true');
            window.location.href = 'part2.html';
            return false;
        }
    </script>

    <script src="script1.js" defer></script>
</body>
</html>